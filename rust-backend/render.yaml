services:
  - type: web
    name: ignitia-backend
    env: rust
    buildCommand: cargo build --release
    startCommand: ./target/release/nextn-backend
    healthCheckPath: /health
    envVars:
      - key: PORT
        value: 8081
      - key: DATABASE_URL
        value: sqlite:/app/data/nextn.db
      - key: JWT_SECRET
        generateValue: true
      - key: SMTP_HOST
        value: smtp.gmail.com
      - key: SMTP_PORT
        value: 587